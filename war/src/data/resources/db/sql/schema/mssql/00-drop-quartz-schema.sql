IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[FK_JAHIA_QRTZ_JOB_LISTENERS_QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)
ALTER TABLE [JAHIA_QRTZ_JOB_LISTENERS] DROP CONSTRAINT FK_JAHIA_QRTZ_JOB_LISTENERS_QRTZ_JOB_DETAILS
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[FK_JAHIA_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)
ALTER TABLE [JAHIA_QRTZ_TRIGGERS] DROP CONSTRAINT FK_JAHIA_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[FK_JAHIA_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)
ALTER TABLE [JAHIA_QRTZ_CRON_TRIGGERS] DROP CONSTRAINT FK_JAHIA_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[FK_JAHIA_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)
ALTER TABLE [JAHIA_QRTZ_SIMPLE_TRIGGERS] DROP CONSTRAINT FK_JAHIA_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[FK_JAHIA_QRTZ_TRIGGER_LISTENERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)
ALTER TABLE [JAHIA_QRTZ_TRIGGER_LISTENERS] DROP CONSTRAINT FK_JAHIA_QRTZ_TRIGGER_LISTENERS_QRTZ_TRIGGERS
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_CALENDARS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_CALENDARS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_CRON_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_CRON_TRIGGERS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_BLOB_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_BLOB_TRIGGERS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_FIRED_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_FIRED_TRIGGERS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_PAUSED_TRIGGER_GRPS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_PAUSED_TRIGGER_GRPS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_SCHEDULER_STATE]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_SCHEDULER_STATE]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_LOCKS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_LOCKS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_JOB_DETAILS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_JOB_LISTENERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_JOB_LISTENERS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_SIMPLE_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_SIMPLE_TRIGGERS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_TRIGGER_LISTENERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_TRIGGER_LISTENERS]
;

IF EXISTS (SELECT * FROM sysobjects WHERE id = OBJECT_ID(N'[JAHIA_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)
DROP TABLE [JAHIA_QRTZ_TRIGGERS]
;

