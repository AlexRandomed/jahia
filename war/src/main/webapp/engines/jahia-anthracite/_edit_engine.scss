/////////////////////////////////////////////////
// EDIT ENGINE //////////////////////////////////
/////////////////////////////////////////////////

.engine-panel {
	z-index: $zindex_edit_engine_panel;
	background: $edit_engine_bg;
    position: fixed!important;
    top: 0!important;
    left: 0!important;
    width: 100%!important;
    height: 100%;

	form {
		height: auto!important;
	}

	.x-form-readonly {
		 .x-form-text {
			@extend %text_input_disabled !optional;

		}
	}

	.x-box-layout-ct,
	.x-box-inner {
		width: 100%!important;
	}

	.x-form-label-left {
		border-left: 1px solid $form_fieldset_left_border;
		border-left: 3px solid rgba(40, 43, 45, 0.1);
		padding-left: 7px;
	}



	////////// TABS
	.x-tab-strip .x-tab-strip-text {
		// At last the button label !!
		@extend %edit_engine_tab;

	}

	////////// TAB OVER
	.x-tab-strip-over .x-tab-strip-text {
		// At last the button label !!
		@extend %edit_engine_tab_over;

	}

	////////// TAB SELECTED
	.x-tab-strip-active .x-tab-strip-text {
		// At last the button label !!
		@extend %edit_engine_tab_selected;

	}

	////////// TAB SELECTED & HOVER
	.x-tab-strip-active.x-tab-strip-over .x-tab-strip-text {
		// At last the button label !!
		@extend %edit_engine_tab_selected_over;

	}

	////////// PERSONALISED TABS
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-content {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-layout {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-metadata {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-seo {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-categories {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-options {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-liveroles {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-editroles {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-usages {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-history {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-visibility {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-workflow {}
	#JahiaGxtEditEngineTabs__JahiaGxtEditEnginePanel-channels {}

	// Personalised COntent Window
	#JahiaGxtEditEnginePanel-content,
	#JahiaGxtEditEnginePanel-metadata {
		/* left floating forms */
		.x-form-item-label {
			float:left!important;
			margin-top: 0!important;
			width: 150px!important;
		}

		.x-form-text:only-child {
			display: inline-block;
		}

		.x-form-field-wrap {
			float: left;
			width: calc(100% - 307px) !important;
		}

		.x-btn {
			margin-left: 10px;
			display: inline-block;
		}
	}

	#JahiaGxtEditEnginePanel-content{
		// Fix problem with non floating form element.
		#Title {
			.x-form-item:nth-child(1) {
				.x-form-element {
					width: calc(100% - 150px);
					float: left;
				}
			}
		}
	}



	#JahiaGxtEditEnginePanel-channels {
		/* Fix for the channel double list selecor */

		.x-form-item:nth-child(1) {

			/* Double List Selector holder */
			width: 100%!important;

			> .x-form-element {

				> .x-component {
					/* Another Container */

					width: 100%!important;

					.x-form-group {
						/* Yet another container */
						height: auto!important;
					}
				}
			}



		}
	}

	#JahiaGxtEditEnginePanel-layout {
		/* Preview window */

		> .x-component {

			&:nth-child(1){
				/* Form */
				height: auto!important;
			}

			&:nth-child(2){
				/* Preview sections */
				height: auto!important;
				width: 100%!important;

				> div {
					/* Preview Holders */
					height: 100%!important;
					width: 100%!important;
					background: transparent!important;

					> div {
						/* Another preview container */
						height: 100%!important;
						width: 100%!important;
						background: transparent!important;

						.gwt-HTML {
							/* Preview container */
							height: 100%!important;
							width: 100%!important;
							background: transparent!important;
						}

					}




				}


			}


		}


	}


	// EDIT ENGINE - STRUCTURE

	// HEADER
	> div.x-panel-header {

		left: 0!important;
	    top: 0!important;
	    position: fixed!important;
	    height: 120px!important;
	    z-index: 10;
	    width: 100%;
		padding: 35px 73px;
		box-sizing: border-box;

		> div {
			// Language Selector
			float: right;
		    margin-top: 8px;
		    margin-right: 24px;
		}

		.x-panel-header-text {
			// Element Title

			@extend %edit_engine_title;

		}
	}

	// BODY
	> .x-panel-bwrap {

		height: calc(100% - 220px);
	    position: fixed;
	    width: 100%;
	    top: 120px;

		.x-panel-tbar {
			// Top action bar
			display: block;
			width: 100%!important;
			height: 50px;

			.x-toolbar {
				width: 100%!important;
			}

		}

		.x-panel-body {
			// Container for body
			width: 100%!important;
			height: 100%!important;
			overflow: scroll;

			.edit-content-engine {

				width: 100%!important;
				height: 100%!important;

				#JahiaGxtEditEngineTabs {
					// Edit Engine COntent Container
					width: 100%!important;
					height: 100%!important;
					border: none!important;

					> .x-tab-panel-header {
						// Tab list menu
						width: 250px !important;
						display: inline-block;
						box-sizing: border-box;
						vertical-align: top;
						border: none;
						height: 100%;
						background: none;
						padding: 0 0 0 75px;

						.x-tab-strip-wrap {
							// Menu Container
							width: 100%;
							height: 100%;

							.x-tab-strip {
								// At last, the final container
								width: 100%;
								height: 100%;
								border:none;
								background: none;
								padding: 0;
								margin: 0;

								li {
									// Tab entry
									float: none;
									margin-left: 0;
									display: block;

									.x-tab-right {
										// Button container
										background: none;
										padding: 0;
										margin: 0;

										.x-tab-left {
											// ANother button container
											background: none;
											padding: 0;

											.x-tab-strip-inner {
												// Yet another button container
												background: none;


											}
										}
									}
								}
							}
						}

						.x-tab-strip-spacer {
							// Dont kjnow what this does yet

						}
					}

					.x-tab-panel-body {
						// Tab content container
						display: inline-block;
						width: calc(100% - 321px) !important;
						box-sizing: border-box;
						vertical-align: top;
						height: 100%!important;
						background: none;

						> .x-panel-mc {
							// Default tab content window
							height: 100%!important;
							width: 100%!important;
							background: $transparent;
							border:none!important;
							padding:0;

							> .x-grid-panel {
								top: 0!important;
								width: 100%!important;
								height: 100%!important;
							}

							> .x-panel {
								// Tab content container
								border:none!important;
								height: 100%;
								width: 100%!important;

								.x-panel-header {
									// Seems to be unused
									display: none;

								}

								.x-panel-bwrap {
									// Tab COntent Container
									height:100%;

									.x-panel-body {
										// Form container


									}

									.x-panel-footer {
										// Unused
										display: none;
									}
								}

							}
						}

					}
				}

			}
		}

		> .x-panel-bbar {
			// Footer action bar
			display: block;
			width: 100%!important;
			height: 100px;
			position: fixed;
			bottom: 0;
			left: 0;
			padding: 10px 0 0 75px;

			.x-panel-fbar {
				width: 100%!important;
				height: 100%;

				.x-toolbar-cell {

					button {
						// Remove icons for these buttons
						padding-left: 10px;
						img {
							display: none;
						}
					}

					&:nth-child(1) {
						/* Save as work in progress */
						position: absolute;
						top: 43px;
					}

					&:nth-child(2) {
						/* Save */
						padding-bottom: 20px;

						// Make suggested colour
						button {
							@extend %action_bar_button_icon_suggested;

						}
					}

					&:nth-child(3) {
						/* Cancel */
						padding-bottom: 20px;
					}
				}
			}

		}

		> .x-panel-footer {
			// BLANK DIV
			display: none;
		}

	}
}
