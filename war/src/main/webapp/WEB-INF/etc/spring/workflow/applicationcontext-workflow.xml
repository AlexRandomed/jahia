<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="workflowService" class="org.jahia.services.workflow.WorkflowService" init-method="start" factory-method="getInstance">
        <property name="workflowTypes">
            <map>
                <entry key="publish">
                    <list>
                        <value>1-step-publication</value>
                        <value>2-step-publication</value>
                    </list>
                </entry>
                <entry key="unpublish">
                    <list>
                        <value>1-step-unpublication</value>
                    </list>
                </entry>
            </map>
        </property>

        <property name="workflowPermissions">
            <map>
                <entry key="1-step-publication">
                    <map>
                        <entry key="start" value="/repository-permissions/jcr:all_default/jcr:write_default"/>
                        <entry key="review" value="/workflow-tasks/final-review" />
                    </map>
                </entry>
                <entry key="2-step-publication">
                    <map>
                        <entry key="start" value="/repository-permissions/jcr:all_default/jcr:write_default"/>
                        <entry key="first review" value="/workflow-tasks/first-review" />
                        <entry key="final review" value="/workflow-tasks/final-review" />
                    </map>
                </entry>
            </map>
        </property>
    </bean>

</beans>