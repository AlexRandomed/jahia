
<toolbars id="org.jahia.toolbars.default">
    <display>
        <toolbar name="switchingmode" ref-type="org.jahia.toolbar.switchingmode" state="top" draggable="false"
                 mandatory="true" display-title="false"/>

        <toolbar name="workflow" ref-type="org.jahia.toolbar.workflow" state="top" draggable="true"  displayed="false"
                 mandatory="false" display-title="true"/>

        <toolbar name="bookmarks" ref-type="org.jahia.toolbar.bookmarks" state="top" draggable="true" displayed="false"
                 mandatory="false" display-title="true"/>

        <toolbar name="breadcrumb" ref-type="org.jahia.toolbar.breadcrumb" state="top" draggable="true"
                 displayed="false" mandatory="false" display-title="true"/>

        <toolbar name="caches" ref-type="org.jahia.toolbar.caches" state="top" draggable="true" displayed="false"
                 mandatory="false" display-title="true"/>

        <toolbar name="statistics" ref-type="org.jahia.toolbar.statistics" state="top" draggable="true" displayed="false"
                 mandatory="false" display-title="true"/>

        <toolbar name="subscriptions" ref-type="org.jahia.toolbar.subscriptions" state="top" draggable="true" displayed="false"
                 mandatory="false" display-title="true"/>
    </display>
    <!-- define toolbar -->
    <custom-toolbar>
        <!-- switching mode -->
        <toolbar type="org.jahia.toolbar.switchingmode">
            <title-resourcebundle-key key="toolbar.switchingmode"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.SwitchingMode.tab"/>

            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.User"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.sites" separator="false"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Tools"/>
            
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.License"/>
            <!-- push to right-->
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Fill" separator="false"/>

            <!-- items groups that depends on the selected mode-->
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Notification"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Page"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.LanguageSwitcher"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.EditMode"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.PreviewMode"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.CompareMode"/>

        </toolbar>

         <!-- workflow -->
        <toolbar type="org.jahia.toolbar.workflow">
            <title-resourcebundle-key key="toolbar.workflow"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.QuickWorkflow"/>
        </toolbar>

        <!-- user -->
        <toolbar type="org.jahia.toolbar.user">
            <title-resourcebundle-key key="toolbar.user"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.bookmarks"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.history"/>
        </toolbar>

        <!-- bookmarks -->
        <toolbar type="org.jahia.toolbar.bookmarks">
            <title-resourcebundle-key key="toolbar.bookmarks"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.bookmarks"/>
        </toolbar>

        <!-- breadcrumb -->
        <toolbar type="org.jahia.toolbar.breadcrumb">
            <title-resourcebundle-key key="toolbar.breadcrumb"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.history"/>
        </toolbar>

        <!-- caches -->
        <toolbar type="org.jahia.toolbar.caches">
            <title-resourcebundle-key key="toolbar.caches"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Flush"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Cache"/>
        </toolbar>

        <toolbar type="org.jahia.toolbar.statistics">
            <title-resourcebundle-key key="toolbar.itemgroups.statistics"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Statistics"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.SimpleVisibilityResolver"
                                input="statistics"/>
            </visibility>
        </toolbar>

        <!-- widgets-->
        <toolbar type="org.jahia.toolbar.widgets">
            <title-resourcebundle-key key="toolbar.widget"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.widgets"/>
        </toolbar>

        <!-- subscriptions -->
        <toolbar type="org.jahia.toolbar.subscriptions">
            <title-resourcebundle-key key="toolbar.subscriptions.toolbar.title"/>
            <itemsgroup ref-type="org.jahia.toolbar.itemsgroup.Subscriptions"/>
        </toolbar>
    </custom-toolbar>
    <!-- defines itemsgroup-->
    <custom-itemsgroup>
        <!-- fill: allows to 'push' itemsgroup after this one to the rigth -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Fill">
            <item ref-type="org.jahia.toolbar.item.Fill"/>
        </itemsgroup>
        
        <itemsgroup type="org.jahia.toolbar.itemsgroup.License" layout="button-label">
            <visibility authentication="true"/>        
            <item ref-type="org.jahia.toolbar.item.License"/>
        </itemsgroup>
         
        <!-- User-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.User" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.user'/>
            <visibility authentication="true"/>
            <item ref-type="org.jahia.toolbar.item.User"/>
            <item ref-type="org.jahia.toolbar.item.Logout"/>
            <item ref-type="org.jahia.toolbar.item.MySettings"/>
            <item ref-type="org.jahia.toolbar.item.Admin"/>
        </itemsgroup>

        <!-- Session -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Session" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.sessionmanagement'/>
            <visibility authentication="true"/>
            <item ref-type="org.jahia.toolbar.item.Logout"/>
        </itemsgroup>

        <!-- SwitchinkMode:  buttons -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.SwitchingMode">
            <title-resourcebundle-key key='toolbar.itemgroups.switchingmode'/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="all"/>
            </visibility>
            <item ref-type="org.jahia.toolbar.item.Live"/>
            <item ref-type="org.jahia.toolbar.item.Preview"/>
            <!--<item ref-type="org.jahia.toolbar.item.AdvancedPreview" display-title="false"/>-->
            <item ref-type="org.jahia.toolbar.item.Compare"/>
            <!--<item ref-type="org.jahia.toolbar.item.AdvancedCompare" display-title="false"/>-->
            <item ref-type="org.jahia.toolbar.item.Edit"/>
        </itemsgroup>

        <!-- switching mode: tabs-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.SwitchingMode.tab"
                    extends="org.jahia.toolbar.itemsgroup.SwitchingMode" layout="tab"/>
        <!-- SwitchinkMode:  menu-radio -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.SwitchingMode.radio"
                    extends="org.jahia.toolbar.itemsgroup.SwitchingMode" layout="menu-radio"/>

        <!-- SwitchinkMode:  menu-checkbox -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.SwitchingMode.checkbox"
                    extends="org.jahia.toolbar.itemsgroup.SwitchingMode" layout="menu-checkbox"/>

        <!-- page itemsGroup-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Page" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.page'/>
            <item ref-type="org.jahia.toolbar.item.PageProperties"/>
        </itemsgroup>

        <!-- items that are visible only during the edit mode context-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.EditMode" layout="menu-checkbox">
            <title-resourcebundle-key key='toolbar.advanced'/>
            <visibility authentication="true" mode="edit"/>
            <item ref-type="org.jahia.toolbar.item.acldiff"/>
            <item ref-type="org.jahia.toolbar.item.timebasepublishing"/>
            <item ref-type="org.jahia.toolbar.item.integrity"/>
            <item ref-type="org.jahia.toolbar.item.inlineediting"/>
        </itemsgroup>

        <!-- items that are visible only during the edit mode context-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Notification" layout="button-label">
            <visibility authentication="true" mode="edit"/>
            <item ref-type="org.jahia.toolbar.item.Notification"/>
        </itemsgroup>

        <!-- items that are visible only during the preview mode context-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.PreviewMode" layout="button-label">
            <visibility authentication="true" mode="preview"/>
            <item ref-type="org.jahia.toolbar.item.AdvancedPreview"/>
        </itemsgroup>

        <!-- items that are visible only during the compare mode context-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.CompareMode" layout="button-label">
            <visibility authentication="true" mode="compare"/>
            <item ref-type="org.jahia.toolbar.item.AdvancedCompare"/>
        </itemsgroup>

        <!-- tools-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Tools" layout="menu">
            <title-resourcebundle-key key='toolbar.itemgroups.tools'/>
            <visibility authentication="true" mode="edit,compare,preview"/>
            <item ref-type="org.jahia.toolbar.item.FileManager"/>
            <item ref-type="org.jahia.toolbar.item.MashupManager"/>
            <item ref-type="org.jahia.toolbar.item.GWTWorkflow"/>
            <item ref-type="org.jahia.toolbar.item.Pdisplay"/>
        </itemsgroup>

        <!-- Flush -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Flush" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.flushcachemenu'/>
            <visibility authentication="true"/>
            <item ref-type="org.jahia.toolbar.item.FlushSite"/>
            <item ref-type="org.jahia.toolbar.item.FlushPage"/>
            <item ref-type="org.jahia.toolbar.item.FlushAllCaches"/>
        </itemsgroup>

        <!-- Workflow -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Workflow" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.workflow'/>
            <visibility mode="edit,preview,compare"/>
            <item ref-type="org.jahia.toolbar.item.GWTWorkflow"/>
        </itemsgroup>

        <!-- Monitoring -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Monitoring" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.monitoring'/>
            <visibility mode="edit,preview,compare"/>
            <item ref-type="org.jahia.toolbar.item.Pdisplay"/>
        </itemsgroup>

        <!-- Quick Workflow -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.QuickWorkflow" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.quickworkflow'/>
            <visibility mode="edit,preview,compare"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-action-min"/>
            <items-provider
                    class="org.jahia.ajax.gwt.templates.components.toolbar.server.factory.impl.JahiaItemsGroupFactoryImpl"
                    input="quick.workflow"/>
        </itemsgroup>

        <!-- Caches-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Cache" layout="menu-radio">
            <title-resourcebundle-key key='toolbar.itemgroups.cache'/>
            <visibility authentication="true"/>
            <item ref-type="org.jahia.toolbar.item.CacheOn"/>
            <item ref-type="org.jahia.toolbar.item.CacheDebug"/>
        </itemsgroup>

        <!-- Widgets -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.widgets">
            <title-resourcebundle-key key='toolbar.itemgroups.bookmarks'/>
            <visibility authentication="true"/>
            <items-provider
                    class="org.jahia.ajax.gwt.templates.components.toolbar.server.factory.impl.JahiaItemsGroupFactoryImpl"
                    input="bookmarks"/>
        </itemsgroup>

        <!-- history-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.history" layout="button-label">
            <items-provider
                    class="org.jahia.ajax.gwt.templates.components.toolbar.server.factory.impl.JahiaItemsGroupFactoryImpl"
                    input="history"/>
        </itemsgroup>

        <!-- bookmarks-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.bookmarks" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.bookmarks'/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-bookmarks-min"
                        max="gwt-toolbar-ItemsGroup-icons-bookmarks-max"/>
            <item ref-type="org.jahia.toolbar.item.bookmarkCurrentPage"/>
            <item ref-type="org.jahia.toolbar.item.deleteBookmarkCurrentPage"/>
            <item ref-type="org.jahia.toolbar.item.Separator"/>
            <items-provider
                    class="org.jahia.ajax.gwt.templates.components.toolbar.server.factory.impl.JahiaItemsGroupFactoryImpl"
                    input="bookmarks"/>

        </itemsgroup>

        <!-- sites-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.sites" layout="menu-radio">
            <title-resourcebundle-key key='toolbar.itemgroups.sites'/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-sites-min"
                        max="gwt-toolbar-ItemsGroup-icons-sites-max"/>
            <items-provider
                    class="org.jahia.ajax.gwt.templates.components.toolbar.server.factory.impl.JahiaItemsGroupFactoryImpl"
                    input="sites"/>
        </itemsgroup>

        <!-- statistics-->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Statistics" layout="button-label">
            <title-resourcebundle-key key='toolbar.itemgroups.statistics'/>
            <visibility authentication="true" mode="edit"/>
            <item ref-type="org.jahia.toolbar.item.PageStat"/>
            <item ref-type="org.jahia.toolbar.item.SiteStat"/>
        </itemsgroup>

        <!-- language switcher -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.LanguageSwitcher" layout="button-label">
            <item ref-type="org.jahia.toolbar.item.LanguageSwitcher"/>
        </itemsgroup>
        
        <!-- subscriptions -->
        <itemsgroup type="org.jahia.toolbar.itemsgroup.Subscriptions" layout="button-label">
            <item ref-type="org.jahia.toolbar.item.Subscriptions"/>
        </itemsgroup>
    </custom-itemsgroup>
    <!-- defines items-->
    <custom-item>
        <!-- base item: open window, redirect, display info, ajax action, separator-->
        <item type="org.jahia.toolbar.item.OpenWindow">
            <property name="url" value="http://www.jahia.org"/>
            <property name="width" value="1020"/>
            <property name="height" value="730"/>
        </item>

        <item type="org.jahia.toolbar.item.OpenEngineWindow">
            <property name="windowName" value="enginePopupWindow"/>
            <property name="parameters" value="menubar=no,location=no,resizable=yes,scrollbars=yes,status=yes,width=1020,height=730"/>
        </item>

        <!-- Redirect item-->
        <item type="org.jahia.toolbar.item.RedirectWindow">
            <property name="url" value="http://www.jahia.org"/>
        </item>

        <!-- base item: open window, redirect, display info, ajax action, separator-->
        <item type="org.jahia.toolbar.item.OpenHTMLWindow">
            <property name="html" value="simple test"/>
            <property name="width" value="1020"/>
            <property name="height" value="730"/>
        </item>


        <!-- Ajax Action item-->
        <item type="org.jahia.toolbar.item.AjaxAction">
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.SimpleAjaxActionImpl"/>
            <property name="action" value="userInfo"/>
            <property name="onSuccess" value="info" possible-values="info,notification,refresh,redirect"/>
            <property name="onFailureMessage">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.ResourceBundlePropertyResolver"
                                input="toolbar.ajaxaction.failure"/>
            </property>
        </item>

        <!-- InfoPanel item-->
        <item type="org.jahia.toolbar.item.InfoPanel">
            <property name="info" value="Jahia"/>
        </item>

        <!-- Separator item-->
        <item type="org.jahia.toolbar.item.Separator"/>

        <!-- fill item-->
        <item type="org.jahia.toolbar.item.Fill"/>
        
        <!-- License information -->
        <item type="org.jahia.toolbar.item.License" extends="org.jahia.toolbar.item.InfoPanel">
        		<title-resourcebundle-key key="button.license"/>
            <visibility authentication="false" mode="edit" />
            <property name="info">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.InfoPropertyResolver" input="license"/>
            </property>
        </item>
        
        <!-- Connected user -->
        <item type="org.jahia.toolbar.item.User" extends="org.jahia.toolbar.item.InfoPanel">
            <title-resourcebundle-key key="button.user"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-user-min" max="gwt-toolbar-ItemsGroup-icons-user-normal"/>
            <description-resourcebundle-key key="operationMode.live"/>
            <visibility authentication="true"/>
            <property name="info">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.InfoPropertyResolver" input="user"/>
            </property>
        </item>

        <!-- Live-->
        <item type="org.jahia.toolbar.item.Live" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="operationMode.live"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-live-min" max="gwt-toolbar-ItemsGroup-icons-live-normal"/>
            <description-resourcebundle-key key="operationMode.live"/>
            <visibility authentication="true">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="live"/>
            </visibility>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="live"/>
            </property>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeSelectedResolver"
                               input="live"/>
        </item>

        <!-- Compare -->
        <item type="org.jahia.toolbar.item.Compare" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="operationMode.compare"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-compare-min"
                        max="gwt-toolbar-ItemsGroup-icons-compare-normal"/>
            <description-resourcebundle-key key="operationMode.compare"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="compare"/>
            </visibility>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="compare"/>
            </property>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeSelectedResolver"
                               input="compare"/>
        </item>

        <!-- Advanced Compare -->
        <item type="org.jahia.toolbar.item.AdvancedCompare">
            <title-resourcebundle-key key="button.advancedcompare"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-compare-min"
                        max="gwt-toolbar-ItemsGroup-icons-compare-normal"/>
            <description-resourcebundle-key key="operationMode.compare"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="compare"/>
            </visibility>
        </item>

        <!-- Preview-->
        <item type="org.jahia.toolbar.item.Preview" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="operationMode.preview"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-preview-min"
                        max="gwt-toolbar-ItemsGroup-icons-preview-normal"/>
            <description-resourcebundle-key key="operationMode.preview"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="preview"/>
            </visibility>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="preview"/>
            </property>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeSelectedResolver"
                               input="preview"/>
        </item>

        <!-- Advanced Preview-->
        <item type="org.jahia.toolbar.item.AdvancedPreview">
            <title-resourcebundle-key key="button.advancedpreview"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-preview-min"
                        max="gwt-toolbar-ItemsGroup-icons-preview-normal"/>
            <description-resourcebundle-key key="operationMode.preview"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="preview"/>
            </visibility>
        </item>

        <!-- Edit-->
        <item type="org.jahia.toolbar.item.Edit" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="operationMode.edit"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-edit-min" max="gwt-toolbar-ItemsGroup-icons-edit-normal"/>
            <description-resourcebundle-key key="operationMode.edit"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeVisibilityResolver"
                                input="edit"/>
            </visibility>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="edit"/>
            </property>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.OperationModeSelectedResolver"
                               input="edit"/>
        </item>

        <!-- My settings-->
        <item type="org.jahia.toolbar.item.MySettings" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="button.mySettings"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-mysettings-min"
                        max="gwt-toolbar-ItemsGroup-icons-mysettings-normal"/>
            <description-resourcebundle-key key="button.mySettings"/>
            <visibility authentication="true"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="mysettings"/>
            </property>
        </item>

        <!-- Administration -->
        <item type="org.jahia.toolbar.item.Admin" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="button.administration"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-admin-min" max="gwt-toolbar-ItemsGroup-icons-admin-normal"/>
            <description-resourcebundle-key key="button.administration"/>
            <visibility site-action-permission="admin.JahiaAdministration"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="admin"/>
            </property>
        </item>

        <!-- File Manager -->
        <item type="org.jahia.toolbar.item.FileManager" extends="org.jahia.toolbar.item.OpenWindow">
            <title-resourcebundle-key key="button.filemanager"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-filemanager-min"
                        max="gwt-toolbar-ItemsGroup-icons-filemanager-normal"/>
            <description-resourcebundle-key key="button.filemanager"/>
            <visibility mode="edit,preview,compare"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="gwtfilemanager"/>
            </property>
        </item>

        <!-- File Manager -->
        <item type="org.jahia.toolbar.item.MashupManager" extends="org.jahia.toolbar.item.OpenWindow">
            <title-resourcebundle-key key="button.mashupmanager"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-mashupmanager-min"
                        max="gwt-toolbar-ItemsGroup-icons-mashupmanager-normal"/>
            <description-resourcebundle-key key="button.filemanager"/>
            <visibility mode="edit,preview,compare"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="gwtmashupmanager"/>
            </property>
        </item>

        <!-- GWT Workflow Manager -->
        <item type="org.jahia.toolbar.item.GWTWorkflow" extends="org.jahia.toolbar.item.OpenWindow">
            <title-resourcebundle-key key="button.workflow"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-workflow-min"
                        max="gwt-toolbar-ItemsGroup-icons-workflow-normal"/>
            <description-resourcebundle-key key="button.workflow"/>
            <visibility mode="edit,preview,compare"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="gwtworkflowmanager"/>
            </property>
        </item>

        <!-- Publish Page -->
        <item type="org.jahia.toolbar.item.PublishPage" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.publishpage"/>
            <visibility mode="edit"/>
            <description-resourcebundle-key key="button.publishpage.description"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-publishpage-min"
                        max="gwt-toolbar-ItemsGroup-icons-publishpage-normal"/>
            <property name="addComment" value="true"/>
            <property name="onSuccess" value="notification"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.QuickValidationActionImpl"/>
        </item>

        <!-- Principal aliasing -->
        <!--item type="org.jahia.toolbar.item.PrincipalAliasing" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.principalAliasing"/>
            <description-resourcebundle-key key="button.principalAliasing.description"/>
            <visibility authentication="true" mode="edit,compare,preview"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-principalAliasing-min"
                        max="gwt-toolbar-ItemsGroup-icons-principalAliasing-normal"/>
            <property name="onSuccess" value="redirect"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.PrincipalAliasingAjaxActionImpl"/>
        </item-->

        <!-- Page properties -->
        <item type="org.jahia.toolbar.item.PageProperties" extends="org.jahia.toolbar.item.OpenEngineWindow">
            <title-resourcebundle-key key="button.pageSettings"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-pageproperties-min"
                        max="gwt-toolbar-ItemsGroup-icons-pageproperties-normal"/>
            <description-resourcebundle-key key="button.pageSettings"/>
            <visibility mode="edit" permission="write"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="pageproperties"/>
            </property>
        </item>

        <!-- P-display -->
        <item type="org.jahia.toolbar.item.Pdisplay" extends="org.jahia.toolbar.item.OpenWindow">>
            <title-resourcebundle-key key="button.monitor"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-monitor-min"
                        max="gwt-toolbar-ItemsGroup-icons-monitor-normal"/>
            <description-resourcebundle-key key="button.monitor"/>
            <visibility mode="edit"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="monitor"/>
            </property>
        </item>

        <!-- Logout -->
        <item type="org.jahia.toolbar.item.Logout" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="button.logout"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-logout-min" max="gwt-toolbar-ItemsGroup-icons-logout-normal"/>
            <description-resourcebundle-key key="button.logout"/>
            <visibility authentication="true"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="logout"/>
            </property>
        </item>

        <!-- Login -->
        <item type="org.jahia.toolbar.item.Login" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="button.login"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-login-min" max="gwt-toolbar-ItemsGroup-icons-login-normal"/>
            <visibility authentication="false"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="login"/>
            </property>
        </item>

        <!-- cache_on -->
        <item type="org.jahia.toolbar.item.CacheOn" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="button.cacheon"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-login-min" max="gwt-toolbar-ItemsGroup-icons-login-normal"/>
            <visibility authentication="false"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver" input="cache_on"/>
            </property>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.CacheModeSelectedResolver"
                               input="cache_on"/>
        </item>

        <!-- cache_off -->
        <item type="org.jahia.toolbar.item.CacheDebug" extends="org.jahia.toolbar.item.RedirectWindow">
            <title-resourcebundle-key key="button.cachedebug"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-login-min" max="gwt-toolbar-ItemsGroup-icons-login-normal"/>
            <visibility authentication="false"/>
            <property name="url">
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.URLPropertyResolver"
                                input="cache_debug"/>
            </property>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.CacheModeSelectedResolver"
                               input="cache_debug"/>
        </item>

        <!-- flush all caches -->
        <item type="org.jahia.toolbar.item.FlushAllCaches" extends="org.jahia.toolbar.item.AjaxAction">
            <visibility server-action-permission="admin.status.ManageStatus"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-flushall-min"
                        max="gwt-toolbar-ItemsGroup-icons-flushall-normal"/>
            <title-resourcebundle-key key="button.flushAll"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.FlushAjaxActionImpl"/>
            <property name="action" value="flushAllCaches"/>
        </item>

        <!-- flush site -->
        <item type="org.jahia.toolbar.item.FlushSite" extends="org.jahia.toolbar.item.AjaxAction">
            <visibility server-action-permission="admin.status.ManageStatus"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-flushall-min"
                        max="gwt-toolbar-ItemsGroup-icons-flushall-normal"/>
            <title-resourcebundle-key key="button.flushSite"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.FlushAjaxActionImpl"/>
            <property name="action" value="flushSite"/>
        </item>

        <!-- flush page -->
        <item type="org.jahia.toolbar.item.FlushPage" extends="org.jahia.toolbar.item.AjaxAction">
            <visibility authentication="true"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-flushall-min"
                        max="gwt-toolbar-ItemsGroup-icons-flushall-normal"/>
            <title-resourcebundle-key key="button.flushPage"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.FlushAjaxActionImpl"/>
            <property name="action" value="flushPage"/>
        </item>

        <!-- clip board-->
        <item type="org.jahia.toolbar.item.ClipBoard"/>

        <!-- ACL diff -->
        <item type="org.jahia.toolbar.item.acldiff" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.acldiff"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-acldiff-min"
                        max="gwt-toolbar-ItemsGroup-icons-acldiff-normal"/>
            <description-resourcebundle-key key="button.acldiff"/>
            <visibility authentication="true" mode="edit"/>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.JahiaPreferenceResolver"
                               input="acldiff.activated"/>
            <property name="toggle" value="true"/>
            <property name="onSuccess" value="refresh"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.UpdateVariableAjaxActionImpl"/>
            <property name="prefName" value="acldiff.activated"/>
        </item>

        <!-- display time base publishing -->
        <item type="org.jahia.toolbar.item.timebasepublishing" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.timebasepublishing"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-timebasepublishing-min"
                        max="gwt-toolbar-ItemsGroup-icons-timebasepublishing-normal"/>
            <description-resourcebundle-key key="button.timebasepublishing"/>
            <visibility authentication="true" mode="edit"/>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.JahiaPreferenceResolver"
                               input="timebasepublishing.activated"/>
            <property name="toggle" value="true"/>
            <property name="onSuccess" value="refresh"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.UpdateVariableAjaxActionImpl"/>
            <property name="prefName" value="timebasepublishing.activated"/>
        </item>

         <!-- display inlineediting -->
        <item type="org.jahia.toolbar.item.inlineediting" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.inlineediting"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-inlineediting-min"
                        max="gwt-toolbar-ItemsGroup-icons-inlineediting-normal"/>
            <description-resourcebundle-key key="button.inlineediting"/>
            <visibility authentication="true" mode="edit"/>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.JahiaPreferenceResolver"
                               input="inlineediting.activated"/>
            <property name="toggle" value="true"/>
            <property name="flushPageCache" value="true" />
            <property name="onSuccess" value="refresh"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.UpdateVariableAjaxActionImpl"/>
            <property name="prefName" value="inlineediting.activated"/>
        </item>

        <item type="org.jahia.toolbar.item.integrity" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.integrity"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-integrity-min"
                        max="gwt-toolbar-ItemsGroup-icons-integrity-normal"/>
            <description-resourcebundle-key key="button.integrity.description"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.IntegrityVisibilityResolver"/>
            </visibility>
            <selected-resolver class="org.jahia.services.toolbar.resolver.impl.JahiaPreferenceResolver"
                               input="integrity.activated"/>
            <property name="toggle" value="true"/>
            <property name="onSuccess" value="refresh"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.UpdateVariableAjaxActionImpl"/>
            <property name="prefName" value="integrity.activated"/>
        </item>

        <!-- UserInfo -->
        <item type="org.jahia.toolbar.item.UserInfo" extends="org.jahia.toolbar.item.AjaxAction"/>

        <!-- Notification -->
        <item type="org.jahia.toolbar.item.Notification">
            <icon-style min="gwt-toolbar-ItemsGroup-icons-notification-ok"
                        max="gwt-toolbar-ItemsGroup-icons-notification-ok"/>
        </item>


        <!-- LicenseInfo -->
        <item type="org.jahia.toolbar.item.LicenseInfo" extends="org.jahia.toolbar.item.AjaxAction">
            <property name="action" value="licenseInfo"/>
        </item>

        <!-- Site statistics -->
        <item type="org.jahia.toolbar.item.SiteStat" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.statistics.site"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-sitestat-min"
                        max="gwt-toolbar-ItemsGroup-icons-sitestat-normal"/>
            <property name="addComment" value="siteStats"/>
        </item>
        <!-- Page statistics-->
        <item type="org.jahia.toolbar.item.PageStat" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.statistics.page"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-sitestat-min"
                        max="gwt-toolbar-ItemsGroup-icons-sitestat-normal"/>
            <property name="addComment" value="pageStats"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.SimpleVisibilityResolver"
                                input="pageStats"/>
            </visibility>
        </item>


        <!-- bookmark current page -->
        <item type="org.jahia.toolbar.item.bookmarkCurrentPage" extends="org.jahia.toolbar.item.AjaxAction">
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.BookmarkActionVisibilityResolver"
                                input="bookmark.current.page"/>
            </visibility>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-bookmarkadd-min"
                        max="gwt-toolbar-ItemsGroup-icons-bookmarkadd-normal"/>
            <title-resourcebundle-key key="button.bookmarkCurrentPage"/>
            <property name="onSuccess" value="refresh"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.BookmarkAjaxActionImpl"/>
            <property name="action" value="bookmark.current.page"/>
        </item>
        <!-- delete bookmark current page -->
        <item type="org.jahia.toolbar.item.deleteBookmarkCurrentPage" extends="org.jahia.toolbar.item.AjaxAction">
            <title-resourcebundle-key key="button.deleteBookmarkCurrentPage"/>
            <visibility>
                <value-resolver class="org.jahia.services.toolbar.resolver.impl.BookmarkActionVisibilityResolver"
                                input="delete.bookmark.current.page"/>
            </visibility>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-bookmarkdelete-min"
                        max="gwt-toolbar-ItemsGroup-icons-bookmarkdelete-normal"/>
            <property name="onSuccess" value="refresh"/>
            <property name="classAction"
                      value="org.jahia.ajax.gwt.templates.components.toolbar.server.ajaxaction.impl.BookmarkAjaxActionImpl"/>
            <property name="action" value="bookmark.delete.current.page"/>
        </item>

        <!-- language switcher -->
        <item type="org.jahia.toolbar.item.LanguageSwitcher"/>

        <!-- subscriptions -->
        <item type="org.jahia.toolbar.item.Subscriptions">
            <title-resourcebundle-key key="toolbar.subscriptions.button.page.title"/>
            <description-resourcebundle-key key="toolbar.subscriptions.button.page.description"/>
            <icon-style min="gwt-toolbar-ItemsGroup-icons-subscriptions-min"
                        max="gwt-toolbar-ItemsGroup-icons-subscriptions-normal"/>
            <property name="events" value="contentPublished,commentAdded"/>
        </item>
    </custom-item>
</toolbars>
