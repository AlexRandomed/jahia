<?xml version="1.0" encoding="UTF-8"?>
<project>
  <modelVersion>4.0.0</modelVersion>
  <parent>
        <artifactId>jahia-templates</artifactId>
        <groupId>org.jahia.templates</groupId>
        <version>6.5-SNAPSHOT</version>
    </parent>
  <groupId>org.jahia.templates</groupId>
  <artifactId>web-templates</artifactId>
  <name>Web templates</name>
  <packaging>war</packaging>

  <description>These are the custom templates (web-templates) for running on a Jahia server.</description>

  <repositories>
    <repository>
      <id>jahiaRepository</id>
      <name>Jahia's Maven Repository</name>
      <url>http://maven.jahia.org/maven2</url>
    </repository>
  </repositories>

  <profiles>
    <profile>
      <id>eclipse-integration</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-eclipse-plugin</artifactId>
            <configuration>
              <wtpversion>1.5</wtpversion>
              <additionalProjectnatures>
                <projectnature>org.eclipse.wst.common.project.facet.core.nature</projectnature>
                <projectnature>org.eclipse.wst.common.modulecore.ModuleCoreNature</projectnature>
                <projectnature>org.eclipse.jem.workbench.JavaEMFNature</projectnature>
              </additionalProjectnatures>
              <additionalBuildcommands>
                <buildCommand>
                  <name>org.eclipse.wst.common.project.facet.core.builder</name>
                  <arguments></arguments>
                </buildCommand>
                <buildCommand>
                  <name>org.eclipse.wst.validation.validationbuilder</name>
                  <arguments></arguments>
                </buildCommand>
              </additionalBuildcommands>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>

  <dependencies>
    <dependency>
      <groupId>org.jahia.server</groupId>
      <artifactId>jahia-impl</artifactId>
      <version>${jahia.package.version}</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>org.jahia.server</groupId>
      <artifactId>jahia-taglib</artifactId>
      <version>${jahia.package.version}</version>
      <scope>provided</scope>
    </dependency>
  </dependencies>

    <build>
      <plugins>
        <!-- Due to a bug in the Maven WAR plugin version 2.1-alpha-2 (http://jira.codehaus.org/browse/MWAR-169), we
             need to force the version of the plugin to version 2.1-beta-1 -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-war-plugin</artifactId>
          <version>2.1-beta-1</version>
            <configuration>
                <archive>
                    <manifestEntries>
	                	<Implementation-Title>${project.name}</Implementation-Title>
	                    <Implementation-Version>${project.version}</Implementation-Version>
	                    <Implementation-Vendor>${jahia.manifest.vendor.name}</Implementation-Vendor>
	                    <Implementation-Vendor-Id>${jahia.manifest.vendor.id}</Implementation-Vendor-Id>
	                    <Implementation-URL>${jahia.manifest.vendor.url}</Implementation-URL>
	                    <Specification-Title>${project.name}</Specification-Title>
	                    <Specification-Version>${project.version}</Specification-Version>
	                    <Specification-Vendor>${jahia.manifest.vendor.name}</Specification-Vendor>
                        <package-name>${project.name}</package-name>
                        <module-type>siteLayout</module-type>
                        <depends>Default Jahia Templates</depends>
                        <root-folder>${artifactId}</root-folder>
                    </manifestEntries>
                </archive>
            </configuration>

        </plugin>
      </plugins>
    </build>

</project>
