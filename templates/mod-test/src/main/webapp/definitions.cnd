<jnt = 'http://www.jahia.org/jahia/nt/1.0'>
<jmix = 'http://www.jahia.org/jahia/mix/1.0'>
<test_templates = 'http://www.jahia.org/jahia/test_templates/nt/1.0'>

[test_templates:someFields] > jnt:container
 smallText smallText
 integer integer

[test_templates:allFields] > jnt:container
 smallText smallText
 sharedSmallText sharedSmallText
 sharedSmallText sharedSmallTextSingle (choicelist) <'val1','val2','val3'
 sharedSmallText sharedSmallTextMultiple (choicelist) multiple <'val1','val2','val3'
 bigText bigText
 integer integer
 float float
 boolean boolean = true
 color color = '#ffffff'
 date date
 page page
 file file
 portlet application
 category category multiple

[test_templates:allFieldsTwice] > test_templates:allFields
 smallText smallText2nd
 sharedSmallText sharedSmallText2nd
 sharedSmallText sharedSmallTextSingle2nd (choicelist) <'val1','val2','val3'
 sharedSmallText sharedSmallTextMultiple2nd (choicelist) multiple <'val1','val2','val3'
 bigText bigText2nd
 integer integer2nd
 float float2nd
 boolean boolean2nd = true
 color color2nd (color) = '#ffffff'
 date date2nd
 page page2nd
 file file2nd
 portlet application2nd
 category category2nd multiple
   
[test_templates:textFields] >jnt:container
 sharedSmallText smallText
 sharedSmallText smallTextWithDefault = 'default value'
 sharedSmallText smallTextWithDefaultAsResource = defaultValue internationalized
 sharedSmallText smallTextWithDefaultAsFunction = useClass('org.jahia.testtemplate.initializer.UsernameValueInitializer')
 sharedSmallText smallTextWithDefaultAsFunctionReadOnly = useClass('org.jahia.testtemplate.initializer.UsernameValueInitializer') protected
 sharedSmallText smallTextWithDefaultAsExpression = eval(currentUser.username)
 sharedSmallText mandatorySmallText mandatory
 sharedSmallText alphanumericSmallText < '[a-zA-Z1-9]*'
 smallText smallTextMultiLang
 sharedSmallText smallTextMultiLangWithDefaultAsExpression = eval(currentUser.username)
 sharedSmallText smallTextMultiline (text[multiline])
 sharedSmallText smallTextMultilineWithDefault (text[multiline]) = 'multiline default value'
 smallText smallTextMultilineMultiLang (text[multiline])
 smallText smallTextMultilineMultiLangWithDefault (text[multiline]) = defaultValue
 bigText richText
 sharedSmallText dropDown (choicelist) = 'option2' < 'option1', 'option2', 'option3'
 sharedSmallText selectBox (choicelist) = option1,option2 multiple < 'option1', 'option2', 'option3'
 sharedSmallText dropDownMultiLang (choicelist[resourceBundle]) = resourceOption2  < resourceOption1, resourceOption2
 sharedSmallText selectBoxMultiLang (choicelist[resourceBundle]) = resourceOption2 multiple  < resourceOption1, resourceOption2
 sharedSmallText dropDownSorted (choicelist[sort='alpha']) = 'option2' < 'option1', 'option2', 'option3'
 sharedSmallText selectBoxSorted (choicelist[sort='alpha']) = option2 multiple < 'option1', 'option2', 'option3'
 category category
 category categoryWithRoot (category[root='cat1']) multiple
 color color
 color colorWithBlueDefault = '#3333FF'
 boolean booleanWithDefault = 'true'
 boolean booleanWithDefaultAsExpression = eval(currentRequest.windows)

[test_templates:pageFields] > jnt:container
 page page (page)
 page pageLinkOnly (page[type="internal,external"])
 page pagePageOnly (page[type="direct"])
 page pageSimplePageOnly (page[type="direct",templates="Simple"])
 page pageInternal (page[type="direct,internal"])
 page pageLinkInternal (page[type="internal"])
 page pageLinkSimple (page[type="internal",templates="Simple"])
 page pageLinkExternal (page[type="external"])
 page pageNewPageInternalOrLinkExternal (page[type="external",templates="Simple"])

[test_templates:numberFields] > jnt:container
 integer long
 integer longWithDefault = 10
 integer longWithDefaultAsExpression = eval(currentPage.ID)
 integer longBetween1and10 < '[1,10]'
 integer longDropdown (choicelist) = 3 < '[1,10]', '[21,30]'
 float double
 float doubleWithDefault = 0.1
 /* float doubleWithDefaultAsResource = resourceBundle(defaultValue) deactivated temporarily */
 float doubleWithDefaultAsResource = 33.3
 float doubleWithDefaultAsExpression = eval(currentSite.id * 10 + 2.5)
 float doubleBetween1and10 < '[1,10]'
 float doubleDropdown (choicelist) = '2.5' < '1.5','2','2.5','3','3.5'

[test_templates:textMixin] mixin
 smallText mixinext

[test_templates:dateMixin] mixin
 date mixinDate

[test_templates:displayCL] > jnt:container
 smallText Image
 smallText File
 page page
 smallText RandomPath

[test_templates:formHandlerCL] > jnt:container
 smallText Name
 smallText Adress
 smallText Zip
 smallText City

[test_templates:dateFields] > jnt:container
 date date
 date dateWithDefault = '2008-01-01T12:12:12.000+00:00'
 date dateWithDefaultAsNow = now()
 date dateWithDefaultAsExpression = eval(currentRequest.paramBean.cacheExpirationDate)
 date formattedDate (datetimepicker[format='YYYYMMdd'])
 date timeWithDefaultAsNow (datetimepicker[format='HH:mm:ss,SSS']) = now()
 date hourWithDefaultAsNow (datetimepicker[format='hh \'o\'\'clock\' a, zzzz']) = now()
 date tommorrowSameTime (datetimepicker[format='yyyyy.MMMMM.dd GGG hh:mm aaa']) = eval(now+1000*60*60*24)
 date maximumDate (datetimepicker[format='dd.MM.yyyy / HH:mm']) = '9999-12-31T23:59:59.999+00:00'
 
[test_templates:fieldsWithIndexOptions] > jnt:container, jmix:structuredContent
 date untokenizedDate indexed='untokenized' scoreboost=1 analyzer='keyword'
 date scoreboostedDate indexed='untokenized' scoreboost=6 analyzer='keyword'
 integer untokenizedLong indexed='untokenized' analyzer='keyword'
 sharedSmallText simpleSmallText analyzer='simple'
 sharedSmallText nonIndexedSmallText indexed='no'
 sharedSmallText nofulltextSmallText nofulltext sortable
 sharedSmallText scoreboostedSmallText scoreboost=5 sortable
 float sortableFloat sortable
 
[test_templates:multiSearchLangFields] > jnt:container
 sharedSmallText Title
 smallText Text
 file file

[test_templates:validationFieldsUsingDefinitions] > jnt:container
 sharedSmallText mandatorySmallText mandatory
 integer mandatoryLong mandatory
 sharedSmallText alphanumericSmallText < '[a-zA-Z1-9]*'
 integer longBetween1and10 < '[1,10]'
 integer mandatoryLongBetween1and10 mandatory < '[1,10]'

[test_templates:validationFieldsUsingValidator] > jnt:container validator='test-tesmplates-validationFieldsUsingValidator'
 sharedSmallText mandatorySmallText
 integer mandatoryLong
 sharedSmallText alphanumericSmallText
 integer longBetween1and10
 integer mandatoryLongBetween1and10

[test_templates:subscribableContent] > jnt:mainContent

[test_templates:subscribableTechWatch] > jnt:container
 sharedSmallText title
 sharedSmallText teaser
 date date = now()
 page source (page[type="external"])

[test_templates:subscribableArticle] > jnt:container
 smallText title
 smallText teaser
 sharedSmallText author
 bigText content
 page source (page[type="external"])

[test_templates:allFieldsWithSubSubList] > test_templates:allFields
  + * (test_templates:allFields)
  
[test_templates:allFieldsWithSubList] > test_templates:allFields   
  + * (test_templates:allFieldsWithSubSubList)
  
[test_templates:allFieldsWithList] > test_templates:allFields   
  + * (test_templates:allFieldsWithSubList)
  
[test_templates:allFieldsTwiceWithSubSubList] > test_templates:allFieldsTwice   
  + * (test_templates:allFieldsTwice)
  
[test_templates:allFieldsTwiceWithSubList] > test_templates:allFieldsTwice   
  + * (test_templates:allFieldsTwiceWithSubSubList)
  
[test_templates:allFieldsTwiceWithList] > test_templates:allFieldsTwice   
  + * (test_templates:allFieldsTwiceWithSubList)  

[test_templates:allFieldsWithAllSubListTypes] > test_templates:allFields   
 singleContainer singleSubSubContainer (test_templates:allFields)
 singleContainer singleMandatorySubSubContainer (test_templates:allFields) mandatory
 + mandatorySubSubContainer (test_templates:allFields) mandatory

[test_templates:allFieldsWithAllListTypes] > test_templates:allFields
 singleContainer singleSubContainer (test_templates:allFieldsWithAllSubListTypes)
 singleContainer singleMandatorySubContainer (test_templates:allFields) mandatory
 + mandatorySubContainer (test_templates:allFields) mandatory 

/* Newsletter */

[test_templates:newsletterIssueHeader] > jnt:container
 file logo (file[mime='image/*'])
 bigText introduction

[test_templates:newsletterIssueFooter] > jnt:container
 bigText footer = "&copy; 2002-2009 Jahia Solutions Group SA. All rights reserved." i15d indexed=no

[test_templates:newsletterIssue] > jnt:container
 page link (page[type="direct",templates="Newsletter issue"])
 file image (file[mime='image/*'])
 bigText description
 
[test_templates:newsletterChannel] > jnt:container
 page link (page[type="direct",templates="Newsletter"])
 file image (file[mime='image/*'])
 bigText description

/* end of Newsletter*/

[jnt:referenceTest] > jmix:queryContent

[test_templates:choiceListItem] > jnt:content, mix:title, jmix:structuredContent

[test_templates:choiceList] > jnt:content, mix:title, jmix:structuredContent
 - contract (string, choicelist) < contract1, contract2, contract3, contract4
 - contractI18n (string, choicelist[resourceBundle]) < contract1, contract2, contract3, contract4
 - country (string, choicelist[country])
 - countryWithFlag (string, choicelist[country,flag])
/* 
 - book (string,choicelist[script=choicelistXml.groovy])
 - product (string,choicelist[script=choicelistDb.groovy])
 - content (weakreference,choicelist[nodes='/content/shared/content/myList;test_templates:choiceListItem'])
*/ 
 - category (weakreference,choicelist[nodes='/content/categories;jnt:category'])
